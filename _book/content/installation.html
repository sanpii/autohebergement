<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Installation du système | S’auto-héberger</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.2">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../content/reboot.html" />
    
    
    <link rel="prev" href="../content/materiel.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-richquotes/plugin.css">
        
    
    

        
    <div class="book" data-level="3" data-basepath=".." data-revision="Thu Jul 09 2015 19:54:03 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="content/introduction.html">
            
            <span><b>1.</b> Pourquoi s’auto-héberger</span>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="content/materiel.html">
            
                
                    <a href="../content/materiel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Le matériel
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3" data-path="content/installation.html">
            
                
                    <a href="../content/installation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Installation du système
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="content/reboot.html">
            
                
                    <a href="../content/reboot.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Premier redémarrage
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="content/ssh.html">
            
                
                    <a href="../content/ssh.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Accès à distance
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="content/http.html">
            
                
                    <a href="../content/http.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Serveur web
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="content/ftp.html">
            
                
                    <a href="../content/ftp.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Transfert de fichiers
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="content/mail.html">
            
            <span><b>8.</b> Mail</span>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="content/dns.html">
            
            <span><b>9.</b> Nom de domaine</span>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="content/seeks.html">
            
            <span><b>10.</b> Moteur de recherche</span>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="content/jabber.html">
            
            <span><b>11.</b> Messagerie instantanée</span>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="content/cups.html">
            
            <span><b>12.</b> Impression</span>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="content/io.html">
            
            <span><b>13.</b> Internet des objets</span>
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="content/supervision.html">
            
            <span><b>14.</b> Supervision</span>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="content/securite.html">
            
            <span><b>15.</b> Sécurité</span>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="content/ssl.html">
            
            <span><b>16.</b> SSL</span>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="content/juridique.html">
            
            <span><b>17.</b> Quelques notions juridiques</span>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="content/epilogue.html">
            
            <span><b>18.</b> Épilogue</span>
            
            
        </li>
    
        <li class="chapter " data-level="19" >
            
            <span><b>19.</b> Annexes</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="19.1" data-path="content/annexes/commandes.html">
            
            <span><b>19.1.</b> Mémo des commandes utiles sous GNU/Linux</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.2" data-path="content/annexes/package.html">
            
            <span><b>19.2.</b> Gestion des logiciels</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.3" data-path="content/annexes/mdp.html">
            
            <span><b>19.3.</b> Comment avoir un bon mot de passe</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.4" >
            
            <span><b>19.4.</b> Exemple d’applications web</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="19.4.1" data-path="content/annexes/drupal.html">
            
            <span><b>19.4.1.</b> Drupal</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.4.2" data-path="content/annexes/owncloud.html">
            
            <span><b>19.4.2.</b> Owncloud</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.4.3" data-path="content/annexes/wordpress.html">
            
            <span><b>19.4.3.</b> Wordpress</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="19.5" data-path="content/annexes/cron.html">
            
            <span><b>19.5.</b> Lancer des commandes périodiquement</span>
            
            
        </li>
    
        <li class="chapter " data-level="19.6" data-path="content/annexes/lcen.html">
            
            <span><b>19.6.</b> Loi pour la confiance dans l&#39;économie numérique</span>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >S’auto-héberger</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="installation-du-syst%C3%A8me">Installation du syst&#xE8;me</h1>
<h2 id="os">Choix de l&#x2019;OS </h2>
<p>Il est &#xE9;vident que nous allons nous tourner vers un syst&#xE8;me d&apos;exploitation
Libre, malheureusement il n&apos;existe pas une distribution que je pourrais vous
conseiller c&apos;est &#xE0; vous de trouver celle qui vous convient le mieux.</p>
<p>Afin de vous aiguiller voici les distributions les plus populaires dans ce
domaines :</p>
<ul>
<li><a href="http://www.debian.org/" target="_blank">Debian</a> ;</li>
<li><a href="http://www.ubuntu.com/server" target="_blank">Unbutu server</a> ;</li>
<li><a href="http://centos.org/" target="_blank">CEntOS</a>.</li>
</ul>
<p>Je me suis restreint aux distributions GNU/Linux, que je maitrise le mieux, il
est &#xE9;galement possible d&apos;utiliser Unix ou Microsoft Windows. Sachant que la
suite de ce livre est bas&#xE9;e sur Debian, si vous d&#xE9;butez, vous ne devriez avoir
aucun mal puisque les configurations par d&#xE9;faut son parfaitement adapt&#xE9;e et ce
livre vous guidera pas &#xE0; pas.</p>
<h2 id="preliminaires">Pr&#xE9;liminaires </h2>
<p>Avant de nous lancer dans l&apos;installation nous devons pr&#xE9;parer le terrain en
t&#xE9;l&#xE9;chargeant notre syst&#xE8;me et en l&apos;installant sur un support bootable.</p>
<h3 id="preliminaires-cd">CD </h3>
<p>C&apos;est la solution la plus simple, encore faut il disposer d&apos;un lecteur de CD,
ce qui n&apos;est pas toujours le cas, en particulier avec le mini-PC.</p>
<p>Commencez par t&#xE9;l&#xE9;charger une image minimale sur le site officiel de
<a href="http://www.debian.org/CD/netinst/#businesscard-stable" target="_blank">Debian</a> en faisant
attention &#xE0; l&apos;architecture choisie (g&#xE9;n&#xE9;ralement amd64). Gravez l&#xE0; sur un
CD, et vous &#xEA;tes pr&#xEA;t &#xE0; passer &#xE0; l&apos;installation.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-4x fa-edit"></strong>
<p> V&#xE9;rifiez dans le BIOS de votre serveur qu&apos;il d&#xE9;marre en priorit&#xE9; sur
le CD-ROM.</p>
</blockquote>
<h3 id="preliminaires-usb">Cl&#xE9;s USB </h3>

<p>Le principe de cette m&#xE9;thode consiste &#xE0; transf&#xE9;rer l&apos;image d&apos;installation sur
une cl&#xE9;s USB pr&#xE9;alablement format&#xE9;e pour &#xEA;tre utilisable au d&#xE9;marrage de
l&apos;ordinateur.</p>
<blockquote class="clearfix alert alert-warning"><strong class="fa fa-4x fa-exclamation-triangle"></strong>
<p> Le contenu de la cl&#xE9;s USB utilis&#xE9;e sera effac&#xE9;, v&#xE9;rifiez quelle ne
contient pas de document important avant de commencer.</p>
</blockquote>
<p>Puisque nous sommes encore sur notre ordinateur de bureau, nous pouvons utiliser
des outils graphiques, par exemple <a href="http://unetbootin.sourceforge.net" target="_blank">UNetbootin</a>
(disponible pour Microsoft Windows et GNU/Linux). Comme le montre la figure
3-1 il vous suffit de s&#xE9;lectionner la distribution souhait&#xE9;e
et le support de destination.</p>
<p><img src="images/unetbootin.png" alt="" title="Figure 3-1. UNetbootin"></p>
<p>Ou vous pouvez utiliser la ligne de commande (sous GNU/Linux) en t&#xE9;l&#xE9;chargeant
l&apos;image <a href="http://http.us.debian.org/debian/dists/stable/main/installer-i386/current/images/hd-media/boot.img.gz" target="_blank">boot.img.gz</a>
et en la copiant sur votre cl&#xE9;s :</p>
<pre><code># zcat boot.img.gz &gt; /dev/sdX
</code></pre><blockquote class="clearfix alert alert-info"><strong class="fa fa-4x fa-edit"></strong>
<p> Remplacez <code>/dev/sdX</code> par le nom de votre cl&#xE9;s USB.</p>
</blockquote>
<p>Ensuite, montez cette cl&#xE9;s USB (d&#xE9;brancher/rebrancher la cl&#xE9;s marche aussi) :</p>
<pre><code># mount /dev/sdX /media
</code></pre><p>Et copiez la m&#xEA;me ISO que pour l&apos;installation CD &#xE0; la racine de la cl&#xE9;s.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-4x fa-edit"></strong>
<p> V&#xE9;rifiez dans le BIOS de votre serveur qu&apos;il d&#xE9;marre en priorit&#xE9; sur
l&apos;USB et plus pr&#xE9;cisemment <em>USB-ZIP</em>.</p>
</blockquote>
<p>Il existe une autre m&#xE9;thode plus d&#xE9;taill&#xE9;e pour cr&#xE9;er votre <a href="http://www.debian.org/releases/stable/amd64/ch04s03.html.fr#usb-copy-flexible" target="_blank">cl&#xE9;s
USB</a>
mais en plus de demander quelques connaissances suppl&#xE9;mentaires, il faut que
votre serveur puisse d&#xE9;marrer sur <em>USB-HDD</em> ou <em>USB-FDD</em>.</p>
<h3 id="preliminaires-reseau">Depuis le r&#xE9;seau </h3>
<p>Le d&#xE9;marrage par le r&#xE9;seau est s&#xFB;rement le type d&apos;installation la plus
compliqu&#xE9;e &#xE0; mettre en place mais &#xE0; l&apos;avantage de ne pas n&#xE9;cessiter de support
externe (comme un CD ou une cl&#xE9;s USB) en contre partie.</p>
<p>Pour ce faire nous allons devoir installer trois logiciel sur votre ordinateur
de bureau : <code>atftpd</code>, <code>dhcpd</code> et <code>pxe</code>. Je n&apos;aborderai ici que la
d&#xE9;marche sous GNU/Linux mais sachez qu&apos;il est possible de faire de m&#xEA;me sous
<a href="http://www.gentilkiwi.com/documentations-s11-t-pxe.htm" target="_blank">Microsoft Windows</a>.</p>
<h4 id="preliminaires-reseau-atftpd">atftpd </h4>
<p><code>atftpd</code> est un serveur pour le protocole TFTP ou <em>trivial file transfert
protocol</em>, c&apos;est &#xE0; dire un protocole de transfert de fichier simplifi&#xE9; qui
fonctionne en UDP plut&#xF4;t qu&apos;en TCP comme son confr&#xE8;re FTP.</p>
<blockquote class="clearfix alert alert-info"><strong class="fa fa-4x fa-edit"></strong>
<p> Notez la diff&#xE9;rence de nomenclature entre <code>atftpd</code> et
TFTP.  <code>atftpd</code> est le nom du programme qui impl&#xE9;mente le protocole
TFTP.  Vous rencontrerez souvent ce genre de parall&#xE8;le dans la suite de ce
libre (<code>dhcpd</code>/DHCP, <code>sshd</code>/SSH, &#x2026;). Le &#xAB; d &#xBB; &#xE0; la fin
du nom du programme signifie <em>daemon</em>.</p>
</blockquote>
<p>Il s&apos;agit donc d&apos;un serveur FTP qui va nous permettre d&apos;envoyer une image ISO
sur notre serveur pour ensuite l&apos;installer. Commen&#xE7;ons par l&apos;installation :</p>
<pre><code># apt-get install atftpd
</code></pre><p>La seule information importante ici est le r&#xE9;pertoire de travail du serveur
o&#xF9; nous devrons par la suite d&#xE9;poser les ISO. Par d&#xE9;faut il s&apos;agit de
<code>/srv/tftp</code> qui correspond au dernier argument dans le fichier
<code>/etc/default/atftpd</code>.</p>
<p>Vous pouvons d&#xE9;s &#xE0; pr&#xE9;sent t&#xE9;l&#xE9;charger et mettre en place les fichiers qui
seront utilis&#xE9;s lors de l&apos;installation. Il suffit de t&#xE9;l&#xE9;charger et d&#xE9;compresser
l&apos;image <em>netboot</em> :</p>
<pre><code># cd /srv/tftp
# wget http://ftp.fr.debian.org/debian/dists/stable/main/installer-amd64/current/images/netboot/netboot.tar.gz
# tar zxf netboot.tar.gz
</code></pre><h4 id="preliminaires-reseau-dhcpd">dhcpd </h4>
<p>Le serveur DHCP va nous permettre de g&#xE9;rer l&apos;attribution des IP entre nos
deux ordinateurs.</p>
<blockquote class="clearfix alert alert-warning"><strong class="fa fa-4x fa-exclamation-triangle"></strong>
<p> Si votre routeur fait d&#xE9;j&#xE0; office de serveur DHCP, vous devez
d&#xE9;sactiver cette option le temps de l&apos;installation afin d&apos;&#xE9;viter les conflits.</p>
</blockquote>
<p>Le paquet a install&#xE9; se nomme <code>dhcp3-server</code> :</p>
<pre><code># apt-get install dhcp3-server
</code></pre><p>Ensuite, il suffit d&apos;ajouter ces quelques lignes &#xE0; la fin du fichier
<code>/etc/dhcp/dhcpd.conf</code> :</p>
<pre><code>subnet 192.168.0.0 netmask 255.255.255.0
{
    range 192.168.0.10 192.168.0.20;
    server-name &quot;server&quot;;
    next-server 192.168.0.1
    filename &quot;/srv/tftp/debian-installer/amd64/pxelinux.0&quot;;
}
</code></pre><p>Nous d&#xE9;clarons un r&#xE9;seau priv&#xE9; <code>192.168.0.0/8</code> (c&apos;est &#xE0; dire contenant les
adresses de <code>192.168.0.1</code> &#xE0; <code>192.168.0.254</code>), avec une plage d&apos;adresse attribu&#xE9;e
automatiquement allant de <code>192.168.0.10</code> &#xE0; <code>192.168.0.20</code>, l&apos;adresse de notre
serveur et enfin un fichier &#xE0; charger au d&#xE9;marrage de notre serveur.</p>
<h4 id="preliminaires-reseau-pxe">pxe </h4>
<p><code>pxe</code> pour <em>pre-boot execution environment</em> est le chargeur de d&#xE9;marrage par
le r&#xE9;seau. Son installation est aussi simple pour les pr&#xE9;c&#xE9;dents logiciels :</p>
<pre><code># apt-get install pxe
</code></pre><p>Lors de l&apos;installation, il vous est demand&#xE9; le r&#xE9;pertoire de travail de
<code>atftpd</code>, &#xE0; savoir <code>/srv/tftp</code>.</p>
<p>V&#xE9;rifiez que les trois serveurs sont bien lanc&#xE9; avant de passer &#xE0; l&apos;&#xE9;tape
suivante :</p>

<pre><code># service atftpd start
# service pxe start
# service dhcp start
</code></pre><h2 id="installation">Installation </h2>
<p>Quelle que soit la m&#xE9;thode d&#x2019;installation que vous avez choisi, une fois
red&#xE9;marr&#xE9;, vous arrivez devant l&apos;&#xE9;cran pr&#xE9;sent&#xE9; &#xE0; la figure 3-2, choisissez
simplement la premi&#xE8;re entr&#xE9;e du menu.</p>
<p><img src="images/installation/01.png" alt="" title="Figure 3-2. D&#xE9;but de l&apos;installation"></p>
<p>Il vous est alors demand&#xE9; de choisir votre langue, le fran&#xE7;ais, puis votre pays,
dans mon cas la France.</p>
<p><img src="images/installation/02.png" alt="" title="Figure 3-3 Choix de la langue">
<img src="images/installation/03.png" alt=""></p>
<p>Selon vos choix pr&#xE9;c&#xE9;dent, la disposition du clavier est d&#xE9;j&#xE0; pr&#xE9;s&#xE9;lectionner,
pour un clavier azerty, le choix <em>Fran&#xE7;ais</em> s&apos;impose.</p>
<p><img src="images/installation/04.png" alt="" title="Figure 3-4 Choix de la disposition du clavier"></p>
<p>Apr&#xE8;s le chargement de quelques composants et la d&#xE9;tection automatique du
r&#xE9;seau, il vous est demand&#xE9; le nom de la machine. Choisissez un nom unique qui
refl&#xE8;te le r&#xF4;le de votre nouveau serveur. Si vous connaissez d&#xE9;j&#xE0; le nom de
domaine qui sera attribu&#xE9; &#xE0; votre serveur (voir le chapitre <a href="dns.md#ndd">Qu&apos;est ce qu&apos;un nom
de domaine</a> pour plus d&apos;information) vous pouvez le renseigner dans
l&apos;&#xE9;cran suivant, ou simplement le laisser vide.</p>
<p><img src="images/installation/05.png" alt="">
<img src="images/installation/06.png" alt="" title="Figure 3-6 Configuration du r&#xE9;seau">
<img src="images/installation/07.png" alt=""></p>
<p>Apr&#xE8;s l&apos;installation du syst&#xE8;me de base, l&#x2019;intalleur vous demande un mot de
passe pour le compte <code>root</code> (figure 3-10). Je pr&#xE9;f&#xE8;re opter pour un mot de passe
vide (appuyez simplement sur <code>enter</code>). Ceci d&#xE9;sactivera le compte <code>root</code> et
donnera les droits administrateur temporaires via la commande <code>sudo</code> au premier
compte utilisateur cr&#xE9;&#xE9; (&#xE0; l&#x2019;&#xE9;tape suivante).</p>
<p><img src="images/installation/08.png" alt="" title="Figure 3-5 Choix du mot de passe root">
<img src="images/installation/09.png" alt=""></p>
<p>Passons donc &#xE0; la cr&#xE9;ation du premier utilisateur du syst&#xE8;me. Vous devez
renseigner votre nom complet (figure 3-11) ainsi que l&apos;identifiant qui vous
permettra de vous connecter.</p>
<p><img src="images/installation/10.png" alt="" title="Figure 3-11 Cr&#xE9;ation d&apos;un nouvel utilisateur">
<img src="images/installation/11.png" alt=""></p>
<p>Cette utilisateur est critique puisqu&#x2019;il poss&#xE8;de des droits d&#x2019;administration. Il
est important de prendre quelques minutes pour choisir un bon mot de passe. Je
vous laisse vous reporter &#xE0; l&#x2019;<a href="annexes/mdp.md">annexe</a> pour quelques conseils &#xE0;
ce sujet.</p>
<p><img src="images/installation/12.png" alt="" title="Figure 3-12 Choix du mot de passe">
<img src="images/installation/13.png" alt=""></p>
<p><img src="images/installation/14.png" alt="" title="Figure 3-14 D&#xE9;tection des disques durs"></p>
<p>Ensuite l&apos;installeur d&#xE9;tecte automatiquement les disques durs pr&#xE9;sents et vous
propose diff&#xE9;rentes m&#xE9;thodes de partionnement. Le partionnement consiste &#xE0;
s&#xE9;parer votre disque dur en plusieurs espaces virtuels, des partitions. Le
premier choix est le plus simple puisqu&apos;il laisse l&apos;installeur calculer
automatiquement la taille des partitions. <a href="http://fr.wikipedia.org/wiki/LVM" target="_blank">LVM</a>
permet une gestion plus souple des partitions en regroupant plusieurs disques
durs, en facilitant le redimensionnement des partitions, &#x2026; Cela n&apos;est
pas justifi&#xE9; dans notre cas.</p>
<p><img src="images/installation/15.png" alt="" title="Figure 3-15 M&#xE9;thode de partitionnement"></p>
<p>Il suffit de s&#xE9;lectionner notre unique disque.</p>
<p><img src="images/installation/16.png" alt="" title="Figure 3-16 Choix du disque &#xE0; partitionner"></p>
<p>L&apos;installeur vous propose plusieurs possibilit&#xE9;s de partionnement, dans le cas
d&apos;un serveur, le dernier choix semble le plus judicieux puiqu&apos;il nous permet
une plus grande souplesse (d&#xE9;placement d&apos;une partition sur un nouveau
disque) mais aussi une plus grande s&#xE9;curit&#xE9; (par exemple, &#xE9;viter qu&apos;un
utilisateur ne sature votre serveur en remplissant tout l&apos;espace disponible).</p>
<p>Pour vous faire une id&#xE9;e, voici le taux d&apos;occupation de mes partitions apr&#xE8;s une
ann&#xE9;e d&apos;utilisation :</p>
<pre><code>$ df -H
Sys. de fich.          Tail.  Occ.  Disp. Occ. Monte sur
/dev/sda1              343M   148M   178M  46% /
/dev/sda9              147G   4,7G   135G   4% /home
/dev/sda8              391M    11M   360M   3% /tmp
/dev/sda5              5,0G   1,3G   3,5G  27% /usr
/dev/sda6              3,0G   1,4G   1,5G  49% /var
</code></pre><p>La r&#xE9;partition n&apos;est pas parfaite, par exemple je ne peux disposer que de deux
versions du noyau, le r&#xE9;pertoire <code>/boot</code> &#xE9;tant sur la premi&#xE8;re partition.</p>
<p>Le r&#xE9;pertoire <code>/var</code> est &#xE0; surveiller car il contient les bases de donn&#xE9;es et
risque de se remplir.</p>
<p>&#xC0; l&apos;opposer le r&#xE9;pertoire <code>/home</code> est surdimensionn&#xE9; pour l&apos;utilisation
que j&apos;en ai (simplement stocker les applications propres &#xE0; chaque utilisateur).
Il faudrait que je me penche sur une solution pour d&#xE9;porter les bases de donn&#xE9;es
dans le r&#xE9;pertoire de chaque utilisateur.</p>
<p><img src="images/installation/17.png" alt="" title="Figure 3-17 Choix du sch&#xE9;ma de partitionnement"></p>
<p>V&#xE9;rifiez les informations avant de confirmer le partitionnement.</p>
<!--
![](images/installation/18.png "Figure 3-18 Confirmation du partionnage")
![](images/installation/19.png)
-->
<!--
![](images/installation/20.png "Figure 3-20 Installation du système de base")
-->
<p>Encore une fois, il vous est demand&#xE9; votre pays (figure 3-21) afin de vous
proposer le meilleur serveur pour t&#xE9;l&#xE9;charger les nouveaux logiciels &#xE0; installer
et les mise &#xE0; jour. Les choix par d&#xE9;faut feront l&apos;affaire.</p>
<p><img src="images/installation/21.png" alt="" title="Figure 3-21 S&#xE9;lection du mirroir pour les paquets">
<img src="images/installation/22.png" alt=""></p>
<p>Vous pouvez renseigner un serveur mandataire HTTP, plus souvent appel&#xE9;
<em>proxy</em>. Dans le cas un r&#xE9;seau domestique, c&apos;est g&#xE9;n&#xE9;ralement inutile,
laisser le champ vide et appuyez simplement sur <code>enter</code>.</p>
<!--
![](images/installation/23.png "Figure 3-14 Configuration du mandataire HTTP")
![](images/installation/24.png)
![](images/installation/25.png)
-->
<p>L&apos;&#xE9;tape suivante vous demande si vous souhaitez activer
<code>popularity-contest</code> (figure 3-26). Il s&apos;agit d&apos;un outils
qui envoi r&#xE9;guli&#xE8;rement, de fa&#xE7;on anonyme, la liste des paquets install&#xE9;s sur
notre distribution. Vous pouvez visiter la page
<a href="http://popcon.debian.org/" target="_blank"><em>Debian Popularity Contest</em></a> pour vous faire
une id&#xE9;e de l&apos;usage qui est fait de vos informations.</p>
<p><img src="images/installation/26.png" alt="" title="Figure 3-26 Configuration de popularity-contest"></p>
<p>La figure 3-27 vous propose des configurations pr&#xE9;-&#xE9;tablies
afin d&apos;installer automatiquement certains logiciels selon l&apos;usage que vous
souhaitez faire de votre ordinateur. Nous pr&#xE9;f&#xE9;rons n&apos;en s&#xE9;lectionner aucune,
nous installerons uniquement ce qui nous sera utile par la suite.</p>
<p><img src="images/installation/27.png" alt="" title="Figure 3-27 S&#xE9;lection des logiciels">
<!--
![](images/installation/28.png)
--></p>
<p>Derni&#xE8;re &#xE9;tape de cette installation, l&apos;installation d&apos;un programme de d&#xE9;marrage.
Ce programme est indispensable pour pouvoir d&#xE9;marrer.</p>
<p><img src="images/installation/29.png" alt="" title="Figure 3-29 Installation du programme de d&#xE9;marrage">
<!--
![](images/installation/30.png)
--></p>
<p>L&apos;installation est maintenant termin&#xE9;e, vous pouvez retirez le support contenant
l&apos;installeur et red&#xE9;marer.</p>
<!--
![](images/installation/31.png "Figure 3-31 Fin de l'installation")
![](images/installation/32.png)
-->
<blockquote>
<p><strong>todo</strong> linux-image-686 (backports)</p>
<p><strong>todo</strong> ntp</p>
</blockquote>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../content/materiel.html" class="navigation navigation-prev " aria-label="Previous page: Le matériel"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../content/reboot.html" class="navigation navigation-next " aria-label="Next page: Premier redémarrage"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
